
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module spree.register_controllers</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="spree.html"><font color="#ffffff">spree</font></a>.register_controllers</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:///C|/studium/spree/opensource/spree/register_controllers.py">c:\studium\spree\opensource\spree\register_controllers.py</a></font></td></tr></table>
    <p><tt>Provides&nbsp;registration&nbsp;related&nbsp;functionalities</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="cPickle.html">cPickle</a><br>
<a href="cherrypy.html">cherrypy</a><br>
<a href="turbogears.config.html">turbogears.config</a><br>
<a href="turbogears.controllers.html">turbogears.controllers</a><br>
<a href="datetime.html">datetime</a><br>
</td><td width="25%" valign=top><a href="turbogears.identity.html">turbogears.identity</a><br>
<a href="logging.html">logging</a><br>
<a href="pkg_resources.html">pkg_resources</a><br>
<a href="random.html">random</a><br>
<a href="spree.register_model.html">spree.register_model</a><br>
</td><td width="25%" valign=top><a href="sha.html">sha</a><br>
<a href="shelve.html">shelve</a><br>
<a href="smtplib.html">smtplib</a><br>
<a href="string.html">string</a><br>
<a href="spree.submodels.tree_model.html">spree.submodels.tree_model</a><br>
</td><td width="25%" valign=top><a href="turbogears.html">turbogears</a><br>
<a href="urllib.html">urllib</a><br>
<a href="turbogears.validators.html">turbogears.validators</a><br>
<a href="turbogears.widgets.html">turbogears.widgets</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="turbogears.controllers.html#Controller">turbogears.controllers.Controller</a>(<a href="__builtin__.html#object">__builtin__.object</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="spree.register_controllers.html#UserRegistration">UserRegistration</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="UserRegistration">class <strong>UserRegistration</strong></a>(<a href="turbogears.controllers.html#Controller">turbogears.controllers.Controller</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Allows&nbsp;user&nbsp;to&nbsp;register.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="spree.register_controllers.html#UserRegistration">UserRegistration</a></dd>
<dd><a href="turbogears.controllers.html#Controller">turbogears.controllers.Controller</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="UserRegistration-__init__"><strong>__init__</strong></a>(self)</dt><dd><tt>Constructor</tt></dd></dl>

<dl><dt><a name="UserRegistration-add_groups"><strong>add_groups</strong></a>(self, user, group_list)</dt><dd><tt>Adds&nbsp;the&nbsp;user&nbsp;to&nbsp;each&nbsp;of&nbsp;the&nbsp;groups&nbsp;in&nbsp;the&nbsp;group_list&nbsp;sequence.<br>
&nbsp;<br>
@param&nbsp;user:&nbsp;The&nbsp;user&nbsp;object&nbsp;to&nbsp;be&nbsp;added<br>
@param&nbsp;group_list:&nbsp;The&nbsp;group&nbsp;list&nbsp;where&nbsp;the&nbsp;user&nbsp;should&nbsp;be&nbsp;added</tt></dd></dl>

<dl><dt><a name="UserRegistration-add_standard_groups"><strong>add_standard_groups</strong></a>(self, user)</dt><dd><tt>Adds&nbsp;the&nbsp;user&nbsp;to&nbsp;the&nbsp;groups&nbsp;specified&nbsp;in&nbsp;the&nbsp;config&nbsp;file.<br>
&nbsp;<br>
@param&nbsp;user:&nbsp;The&nbsp;user&nbsp;object&nbsp;to&nbsp;be&nbsp;added</tt></dd></dl>

<dl><dt><a name="UserRegistration-add_unverified_groups"><strong>add_unverified_groups</strong></a>(self, user)</dt><dd><tt>Adds&nbsp;the&nbsp;user&nbsp;to&nbsp;the&nbsp;unverified&nbsp;user&nbsp;groups&nbsp;specified&nbsp;in&nbsp;the&nbsp;config&nbsp;file.<br>
&nbsp;<br>
@param&nbsp;user:&nbsp;The&nbsp;user&nbsp;object&nbsp;to&nbsp;be&nbsp;added</tt></dd></dl>

<dl><dt><a name="UserRegistration-create"><strong>create</strong></a>(self, user_name, email, email2, password1, password2, nocache<font color="#909090">=None</font>, *_decorator__varargs, **kwargs)</dt><dd><tt>Creates&nbsp;a&nbsp;temporary&nbsp;user&nbsp;entry&nbsp;(pending&nbsp;user)&nbsp;in&nbsp;a&nbsp;db&nbsp;(that&nbsp;can&nbsp;be&nbsp;promoted&nbsp;to&nbsp;permanent&nbsp;after&nbsp;validation).<br>
&nbsp;<br>
@param&nbsp;user_name:&nbsp;Users&nbsp;name<br>
@param&nbsp;email:&nbsp;Users&nbsp;email&nbsp;address<br>
@param&nbsp;email2:&nbsp;Users&nbsp;email&nbsp;address&nbsp;for&nbsp;verification<br>
@param&nbsp;password1:&nbsp;Users&nbsp;password<br>
@param&nbsp;password2:&nbsp;Users&nbsp;password&nbsp;for&nbsp;verification<br>
@param&nbsp;nocache:&nbsp;Argument&nbsp;for&nbsp;preventing&nbsp;browser&nbsp;caching<br>
@return:&nbsp;User&nbsp;name&nbsp;and&nbsp;email&nbsp;address</tt></dd></dl>

<dl><dt><a name="UserRegistration-edit_user"><strong>edit_user</strong></a>(self, msg<font color="#909090">=''</font>, tg_errors<font color="#909090">=None</font>, *_decorator__varargs, **_decorator__kwargs)</dt><dd><tt>Edits&nbsp;current&nbsp;user&nbsp;information.<br>
&nbsp;<br>
@param&nbsp;msg:&nbsp;A&nbsp;message&nbsp;whcih&nbsp;will&nbsp;be&nbsp;displayed&nbsp;on&nbsp;the&nbsp;client<br>
@param&nbsp;tg_errors:&nbsp;Not&nbsp;used<br>
@return:&nbsp;Data&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-errHand"><strong>errHand</strong></a>(self, tg_errors<font color="#909090">=None</font>, *_decorator__varargs, **_decorator__kwargs)</dt><dd><tt>Handels&nbsp;errors&nbsp;for&nbsp;form&nbsp;validation.<br>
&nbsp;<br>
@param&nbsp;tg_errors:&nbsp;The&nbsp;errors&nbsp;occured<br>
@return:&nbsp;The&nbsp;fields&nbsp;where&nbsp;the&nbsp;errors&nbsp;occured&nbsp;and&nbsp;the&nbsp;error&nbsp;messages&nbsp;as&nbsp;lists</tt></dd></dl>

<dl><dt><a name="UserRegistration-exHandler"><strong>exHandler</strong></a>(self, tg_exceptions<font color="#909090">=None</font>)</dt><dd><tt>Exception&nbsp;handler.&nbsp;Forwards&nbsp;the&nbsp;exceptions&nbsp;to&nbsp;self.<strong>new</strong></tt></dd></dl>

<dl><dt><a name="UserRegistration-getRegisterLoadDocs"><strong>getRegisterLoadDocs</strong></a>(self, *args, **kwargs)</dt><dd><tt>Returns&nbsp;register_load_docs&nbsp;template&nbsp;which&nbsp;allows&nbsp;specification&nbsp;of&nbsp;web&nbsp;sites&nbsp;and&nbsp;<br>
keywords&nbsp;used&nbsp;for&nbsp;profile&nbsp;generization</tt></dd></dl>

<dl><dt><a name="UserRegistration-lost_password"><strong>lost_password</strong></a>(self, tg_errors<font color="#909090">=None</font>, *_decorator__varargs, **kwargs)</dt><dd><tt>Shows&nbsp;the&nbsp;lost&nbsp;password&nbsp;form.<br>
&nbsp;<br>
@param&nbsp;tg_errors:&nbsp;Not&nbsp;used<br>
@return:&nbsp;Data&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-mail_changed_email_validation"><strong>mail_changed_email_validation</strong></a>(self, new_email)</dt><dd><tt>Sends&nbsp;an&nbsp;email&nbsp;out&nbsp;that&nbsp;has&nbsp;validation&nbsp;information&nbsp;for&nbsp;changed&nbsp;email&nbsp;addresses.<br>
The&nbsp;logic&nbsp;is&nbsp;that&nbsp;we&nbsp;keep&nbsp;the&nbsp;old&nbsp;(verified)&nbsp;email&nbsp;in&nbsp;the&nbsp;User&nbsp;table,&nbsp;and&nbsp;add&nbsp;the<br>
new&nbsp;information&nbsp;into&nbsp;the&nbsp;RegistrationUserEmailChange&nbsp;table.&nbsp;&nbsp;When&nbsp;the&nbsp;user&nbsp;eventually<br>
validates&nbsp;the&nbsp;new&nbsp;address,&nbsp;we&nbsp;delete&nbsp;the&nbsp;information&nbsp;out&nbsp;of&nbsp;RegistrationUserEmailChange<br>
and&nbsp;put&nbsp;the&nbsp;new&nbsp;email&nbsp;address&nbsp;into&nbsp;User&nbsp;table.&nbsp;&nbsp;That&nbsp;way,&nbsp;we&nbsp;always&nbsp;have&nbsp;a&nbsp;"good"&nbsp;email<br>
address&nbsp;in&nbsp;the&nbsp;User&nbsp;table.<br>
&nbsp;<br>
@param&nbsp;new_email:&nbsp;The&nbsp;new&nbsp;email</tt></dd></dl>

<dl><dt><a name="UserRegistration-mail_new_validation_email"><strong>mail_new_validation_email</strong></a>(self, pending_user)</dt><dd><tt>Generates&nbsp;the&nbsp;new&nbsp;user&nbsp;validation&nbsp;email.<br>
&nbsp;<br>
@param:&nbsp;pending_user&nbsp;The&nbsp;pending&nbsp;user&nbsp;object</tt></dd></dl>

<dl><dt><a name="UserRegistration-new"><strong>new</strong></a>(self, tg_errors<font color="#909090">=None</font>, msg<font color="#909090">=''</font>, *args, **kw)</dt><dd><tt>Returns&nbsp;the&nbsp;register_new&nbsp;template<br>
&nbsp;<br>
@param&nbsp;tg_errors:&nbsp;Optional&nbsp;error&nbsp;messages&nbsp;can&nbsp;be&nbsp;passed&nbsp;here<br>
@param&nbsp;msg:&nbsp;A&nbsp;status&nbsp;message&nbsp;wchich&nbsp;will&nbsp;be&nbsp;displayed&nbsp;on&nbsp;the&nbsp;client<br>
@return:&nbsp;Data&nbsp;used&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-promote_pending_user"><strong>promote_pending_user</strong></a>(self, pending_user)</dt><dd><tt>Promotes&nbsp;pending&nbsp;user&nbsp;to&nbsp;the&nbsp;official&nbsp;'users'.<br>
&nbsp;<br>
@param&nbsp;pending_user:&nbsp;The&nbsp;pending&nbsp;user&nbsp;object<br>
@return:&nbsp;the&nbsp;new&nbsp;user&nbsp;object.</tt></dd></dl>

<dl><dt><a name="UserRegistration-recover_lost_password"><strong>recover_lost_password</strong></a>(self, email_or_username<font color="#909090">=None</font>, *_decorator__varargs, **_decorator__kwargs)</dt><dd><tt>Resets&nbsp;(or&nbsp;mails)&nbsp;a&nbsp;user&nbsp;his&nbsp;forgotten&nbsp;password.<br>
&nbsp;<br>
@param&nbsp;email_or_username:&nbsp;The&nbsp;username&nbsp;or&nbsp;email&nbsp;address&nbsp;entered&nbsp;by&nbsp;the&nbsp;user<br>
@return:&nbsp;Information&nbsp;if&nbsp;password&nbsp;hass&nbsp;been&nbsp;reset</tt></dd></dl>

<dl><dt><a name="UserRegistration-register"><strong>register</strong></a>(self, tg_errors<font color="#909090">=None</font>, msg<font color="#909090">=''</font>, *args, **kw)</dt><dd><tt>Returns&nbsp;the&nbsp;login_register&nbsp;template<br>
&nbsp;<br>
@param&nbsp;tg_errors:&nbsp;Optional&nbsp;error&nbsp;messages&nbsp;can&nbsp;be&nbsp;passed&nbsp;here<br>
@param&nbsp;msg:&nbsp;A&nbsp;status&nbsp;message&nbsp;wchich&nbsp;will&nbsp;be&nbsp;displayed&nbsp;on&nbsp;the&nbsp;client<br>
@return:&nbsp;Data&nbsp;used&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-registration_base_url"><strong>registration_base_url</strong></a>(self)</dt><dd><tt>@return:&nbsp;The&nbsp;full&nbsp;http://...&nbsp;address&nbsp;of&nbsp;the&nbsp;registration&nbsp;controller.<br>
Does&nbsp;not&nbsp;end&nbsp;with&nbsp;a&nbsp;traling&nbsp;slash.</tt></dd></dl>

<dl><dt><a name="UserRegistration-remove_all_groups"><strong>remove_all_groups</strong></a>(self, user)</dt><dd><tt>Removes&nbsp;the&nbsp;user&nbsp;from&nbsp;all&nbsp;groups&nbsp;it&nbsp;belongs&nbsp;to.<br>
&nbsp;<br>
@param&nbsp;user:&nbsp;The&nbsp;user&nbsp;object&nbsp;to&nbsp;be&nbsp;removed</tt></dd></dl>

<dl><dt><a name="UserRegistration-send_email"><strong>send_email</strong></a>(self, to_addr, from_addr, subject, body)</dt><dd><tt>Sends&nbsp;an&nbsp;email.<br>
&nbsp;<br>
@param&nbsp;to_addr:&nbsp;address&nbsp;to&nbsp;which&nbsp;mail&nbsp;is&nbsp;sent<br>
@param&nbsp;from_adr:&nbsp;address&nbsp;from&nbsp;which&nbsp;mail&nbsp;is&nbsp;sent<br>
@param&nbsp;subject:&nbsp;subject&nbsp;of&nbsp;the&nbsp;mail<br>
@param&nbsp;body:&nbsp;text&nbsp;body&nbsp;of&nbsp;the&nbsp;mail</tt></dd></dl>

<dl><dt><a name="UserRegistration-update_user"><strong>update_user</strong></a>(self, email, old_password, password1, password2, user_name<font color="#909090">=None</font>, *_decorator__varargs, **kwargs)</dt><dd><tt>@deprecated&nbsp;use&nbsp;update_user1/2&nbsp;instead<br>
&nbsp;<br>
Updates&nbsp;the&nbsp;users&nbsp;information&nbsp;with&nbsp;new&nbsp;values.<br>
&nbsp;<br>
@param&nbsp;email:&nbsp;Users&nbsp;new&nbsp;email<br>
@param&nbsp;old_password:&nbsp;users&nbsp;old&nbsp;password<br>
@param&nbsp;password1:&nbsp;users&nbsp;new&nbsp;password<br>
@param&nbsp;password2:&nbsp;users&nbsp;new&nbsp;password<br>
@param&nbsp;user_name:&nbsp;users&nbsp;name<br>
@return:&nbsp;Data&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-update_user1"><strong>update_user1</strong></a>(self, email, user_name<font color="#909090">=None</font>, *_decorator__varargs, **kwargs)</dt><dd><tt>Updates&nbsp;the&nbsp;users&nbsp;information&nbsp;with&nbsp;new&nbsp;values.<br>
&nbsp;<br>
@param&nbsp;email:&nbsp;Users&nbsp;new&nbsp;email<br>
@param&nbsp;user_name:&nbsp;Users&nbsp;user&nbsp;name<br>
@return:Data&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-update_user2"><strong>update_user2</strong></a>(self, old_password, password1, password2, *_decorator__varargs, **kwargs)</dt><dd><tt>Updates&nbsp;the&nbsp;users&nbsp;information&nbsp;with&nbsp;new&nbsp;values.<br>
&nbsp;<br>
@param&nbsp;old_password:&nbsp;The&nbsp;old&nbsp;password&nbsp;that&nbsp;should&nbsp;be&nbsp;changed<br>
@param&nbsp;password1:&nbsp;The&nbsp;new&nbsp;password<br>
@param&nbsp;password2:&nbsp;The&nbsp;new&nbsp;password&nbsp;for&nbsp;verification<br>
@return:&nbsp;Data&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-validateForm"><strong>validateForm</strong></a>(self, user_name, email, email2, password1, password2, *args, **kwargs)</dt><dd><tt>Validates&nbsp;the&nbsp;register&nbsp;form.<br>
&nbsp;<br>
@param&nbsp;user_name:&nbsp;Users&nbsp;name<br>
@param&nbsp;email:&nbsp;Users&nbsp;email&nbsp;address<br>
@param&nbsp;email2:&nbsp;Users&nbsp;email&nbsp;address&nbsp;for&nbsp;verification<br>
@param&nbsp;password1:&nbsp;Users&nbsp;password<br>
@param&nbsp;password2:&nbsp;Users&nbsp;password&nbsp;for&nbsp;verification</tt></dd></dl>

<dl><dt><a name="UserRegistration-validate_email_change"><strong>validate_email_change</strong></a>(self, email, key, *_decorator__varargs, **_decorator__kwargs)</dt><dd><tt>Validates&nbsp;the&nbsp;email&nbsp;address&nbsp;change&nbsp;and&nbsp;update&nbsp;the&nbsp;database&nbsp;appropriately.<br>
&nbsp;<br>
@param&nbsp;email:&nbsp;The&nbsp;email&nbsp;to&nbsp;be&nbsp;verified<br>
@param&nbsp;key:&nbsp;The&nbsp;verification&nbsp;key<br>
@return:&nbsp;Data&nbsp;for&nbsp;template&nbsp;population</tt></dd></dl>

<dl><dt><a name="UserRegistration-validate_new_user"><strong>validate_new_user</strong></a>(self, email<font color="#909090">=''</font>, *args, **kwargs)</dt><dd><tt>Validates&nbsp;pending&nbsp;user&nbsp;in&nbsp;order&nbsp;to&nbsp;promote&nbsp;him&nbsp;to&nbsp;permanent&nbsp;user.<br>
&nbsp;<br>
@param&nbsp;email:&nbsp;The&nbsp;email&nbsp;address&nbsp;to&nbsp;validate<br>
@return:&nbsp;Information&nbsp;if&nbsp;validation&nbsp;was&nbsp;successfull</tt></dd></dl>

<dl><dt><a name="UserRegistration-validation_hash"><strong>validation_hash</strong></a>(self, unique_input<font color="#909090">=''</font>)</dt><dd><tt>Serves&nbsp;a&nbsp;hash&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;validation.<br>
&nbsp;<br>
@param&nbsp;unique_input:&nbsp;Unique&nbsp;string&nbsp;which&nbsp;is&nbsp;used&nbsp;for&nbsp;hash&nbsp;computation<br>
@return:&nbsp;Hash&nbsp;value&nbsp;constructed&nbsp;from&nbsp;unique_input</tt></dd></dl>

<hr>
Data and other attributes inherited from <a href="turbogears.controllers.html#Controller">turbogears.controllers.Controller</a>:<br>
<dl><dt><strong>__dict__</strong> = &lt;dictproxy object&gt;<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dl>

<dl><dt><strong>__weakref__</strong> = &lt;attribute '__weakref__' of 'Controller' objects&gt;<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>edit_user_form</strong> = RegTableForm(name='form', submit_text=None, conv...ion=None, disabled_fields=set([]), method='post')<br>
<strong>edit_user_form1</strong> = RegTableForm1(name='form', submit_text=None, con...ion=None, disabled_fields=set([]), method='post')<br>
<strong>edit_user_form2</strong> = RegTableForm2(name='form', submit_text=None, con...ion=None, disabled_fields=set([]), method='post')<br>
<strong>log</strong> = &lt;logging.Logger instance&gt;<br>
<strong>lost_password_form</strong> = RegTableForm(name='form', submit_text=None, conv...ion=None, disabled_fields=set([]), method='post')<br>
<strong>new_user_form</strong> = RegTableForm(name='form', submit_text=None, conv...ion=None, disabled_fields=set([]), method='post')<br>
<strong>session</strong> = &lt;sqlalchemy.ext.activemapper.Objectstore object&gt;<br>
<strong>turbomail</strong> = None</td></tr></table>
</body></html>